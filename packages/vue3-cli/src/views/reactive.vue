<template>
  <h2>reactiveçš„ä½¿ç”¨</h2>
  <h3>{{obj}}</h3>
  <hr>
  <button @click="updateUser">æ›´æ–°æ•°æ®</button>
</template>

<script lang="ts">
import { defineComponent, reactive, ref } from "vue";

//éœ€æ±‚:æ˜¾ç¤ºç”¨æˆ·çš„ç›¸å…³ä¿¡æ¯

/* ä½œç”¨:å®šä¹‰å¤šä¸ªæ•°æ®çš„å“åº”å¼
const proxy=reactive(obj):æ¥æ”¶ä¸€ä¸ªæ™®é€šå¯¹è±¡ç„¶åè¿”å›è¯¥æ™®é€šå¯¹è±¡çš„å“åº”å¼ä»£ç†å™¨å¯¹è±¡
å“åº”å¼è½¬æ¢æ˜¯ "æ·±å±‚çš„": ä¼šå½±å“å¯¹è±¡å†…éƒ¨æ‰€æœ‰åµŒå¥—çš„å±æ€§
å†…éƒ¨åŸºäº ES6çš„ Proxy å®ç°,é€šè¿‡ä»£ç†å™¨å¯¹è±¡æ“ä½œæºå¯¹è±¡å†…éƒ¨æ•°æ®éƒ½æ˜¯å“åº”å¼çš„ */

export default defineComponent({
  name: "setup",
  setup() {
    //reactive  å¤æ‚æ•°æ®å“åº”å¼
    //è¿”å›çš„æ˜¯ä¸€ä¸ªProxyçš„ä»£ç†å¯¹è±¡,è¢«ä»£ç†çš„ç›®æ ‡å¯¹è±¡å°±æ˜¯objå¯¹è±¡
    //user ç°åœ¨æ˜¯ä»£ç†å¯¹è±¡,objæ˜¯ç›®æ ‡å¯¹è±¡
    const obj = reactive({
      name: "äº”æµ™æ±Ÿ",
      age: 20,
      wife: {
        name: "å€©å€©",
        age: 18,
        cars:['ğŸš—']
      },
    });

    //æ–¹æ³•
    const updateUser=()=>{
      obj.wife.name+=',å°ç†Š'
    }

    return{
      obj,
      updateUser
    }
  },
});
</script>
